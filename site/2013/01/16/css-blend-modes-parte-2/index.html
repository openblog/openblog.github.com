<!doctype html>
<html lang="pt-BR">

<head>
	<meta charset="UTF-8" />
	
		<title>CSS blend modes parte 2 | Open Blog</title>
	
	
		<meta name="author" content="Almir Filho" />
	
	
		<meta name="keywords" content="css, css3, blend mode, blend, blend-mode, background, fundo, w3c, grafico, filter, filtros, mistura, backdrop, overlay, elemento, imagem, composicao, calculo, alpha-compositing, knock-out, isolation
" />
	
	
		<meta name="description" content="Esta é uma continuação do nosso post&amp;#160; CSS blend modes, pois iremos falar sobre como será possível aplicar os mesmos blend modes em outros lugares como backgrounds e shadows." />
	
	<meta name="language" content="pt" />
	<meta name="content-language" content="pt-BR" />
	<meta name="robots" content="all" />
	<meta name="distribution" content="Global" />
	<meta name="resource-type" content="document" />

	<link rel="icon" type="image/png" href="/assets/img/favicon.png" />
    <link href="/assets/css/screen.css?2013-02-22" media="screen, projection" rel="stylesheet" type="text/css" />
    <!--[if IE]>
    	<link href="/assets/css/ie.css?2013-02-22" media="screen, projection" rel="stylesheet" type="text/css" />
  	<![endif]-->
	<link href='http://fonts.googleapis.com/css?family=Ubuntu:300' rel='stylesheet' type='text/css'>
</head>

<body>

	<div id="wrapper">
		
		<header id="main">
	<h1><a href="/" id="logo">.openBlog()</a></h1>
</header>
		
		<section id="content">

			<section class="post-container" itemscope itemtype="http://schema.org/BlogPosting">
				<span class="hidden" itemprop="publisher">Open Blog</span>
				<article>
					<header>
						<h1><a href="/2013/01/16/css-blend-modes-parte-2/" itemprop="headline">CSS <span>blend modes</span> parte 2</a></h1>
					</header>
					<section itemprop="articleBody">
						
						<figure>
							<img itemprop="thumbnailUrl" src="/images/posts/2013-01-16-css-blend-modes-parte-2.jpg" class="post-image" alt="CSS blend modes parte 2" title="CSS blend modes parte 2" width="700" height="432" />
						</figure>
						
						<p>Se você ainda não viu, no meu último <em>post</em> falei sobre a novidade <a href='http://loopinfinito.com.br/2012/12/19/css-blend-modes/'><strong>CSS blend modes</strong></a>. Este <em>post</em> é uma continuação do mesmo, pois irei falar sobre como será possível aplicar os mesmos <em>blend modes</em> em outros lugares, como por exemplo em <strong>fundos</strong> (propriedade <code>background</code>) e em <strong>sombras</strong> (propriedades <code>box-shadow</code> e <code>text-shadow</code>).</p>

<p>O <em>draft</em> da especificação <a href='http://www.w3.org/TR/compositing/'><em>Compositing and Blending 1.0</em></a> introduz mais <strong>5 novas propriedades</strong>: <code>background-blend-mode</code>, <code>background-alpha-compositing</code>, <code>box-shadow-blend-mode</code>, <code>text-shadow-blend-mode</code> e <code>foreground-blend-mode</code>. Falaremos sobre cada uma delas a seguir.</p>

<h2 id='blend_modes_em_backgrounds'>Blend modes em backgrounds</h2>

<p>Também é possível aplicar um <em>blend mode</em> apenas no <strong>background</strong> de um elemento. Para isso temos 2 novas propriedades CSS: <code>background-alpha-compositing</code> e <code>background-blend-mode</code>.</p>

<p>Para ilustrar as aplicações deste <em>post</em>, iremos usar a seguinte imagem de exemplo:</p>
<figure>
	<img alt='Homer Original' height='200' src='/images/posts/2013-01-16-homer-original.jpg' title='Homer Original' />
</figure>
<p>Vamos considerar que a imagem acima pode ser composta por uma <code>&lt;div&gt;</code> geral que tem o <em>Moe&#8217;s</em> (bar do Moe) como fundo e por mais uma <code>&lt;div&gt;</code> de fundo que contém o conteúdo – a imagem do Homer e seus nomes (HTML abaixo):</p>
<div class='highlight'><pre><code class='html'><span class='nt'>&lt;div</span> <span class='na'>class=</span><span class='s'>&quot;bar&quot;</span><span class='nt'>&gt;</span>
    <span class='nt'>&lt;div</span> <span class='na'>class=</span><span class='s'>&quot;fundo-azul&quot;</span><span class='nt'>&gt;</span>
    	<span class='nt'>&lt;img</span> <span class='na'>class=</span><span class='s'>&quot;homer&quot;</span> <span class='na'>src=</span><span class='s'>&quot;homer.png&quot;</span> <span class='nt'>/&gt;</span>
        <span class='nt'>&lt;h1&gt;</span>Homer<span class='nt'>&lt;/h1&gt;</span>
        <span class='nt'>&lt;h2&gt;</span>Simpson<span class='nt'>&lt;/h2&gt;</span>
    <span class='nt'>&lt;/div&gt;</span>
<span class='nt'>&lt;/div&gt;</span>
</code></pre></div>
<h3 id='backgroundblendmode'>background-blend-mode</h3>

<p>Como vimos no <a href='http://loopinfinito.com.br/2012/12/19/css-blend-modes/'>post anterior</a>, teremos <strong>16 blend modes</strong> disponíveis, e poderemos aplicá-los da mesma maneira para os <em>backgrounds</em> com a propriedade <code>background-blend-mode</code>.</p>

<p>Aplicando o <em>blend mode</em>&#160;<strong>exclusion</strong> no fundo da <code>div.fundo-azul</code>:</p>
<figure>
	<img alt='Homer background-blend-mode' height='200' src='/images/posts/2013-01-16-homer-background.jpg' title='Homer background-blend-mode' />
</figure><div class='image-code'>

<div class='highlight'><pre><code class='css'><span class='nc'>.fundo-azul</span> <span class='p'>{</span>
    <span class='k'>background-color</span><span class='o'>:</span> <span class='m'>#4DA6FF</span><span class='p'>;</span> <span class='c'>/* azul claro */</span>
    <span class='k'>background</span><span class='o'>-</span><span class='n'>blend</span><span class='o'>-</span><span class='n'>mode</span><span class='o'>:</span> <span class='n'>exclusion</span><span class='p'>;</span>
<span class='p'>}</span>
</code></pre></div>

</div>
<p>Perceba que o <em>blend mode</em> apenas é aplicado ao <em>background</em> do elemento, ou seja, no fundo azul – deixando os elementos filhos da <code>div.fundo-azul</code> &#160;<strong>inalterados</strong>.</p>

<h3 id='backgroundalphacompositing'>background-alpha-compositing</h3>

<p>Assim como a propriedade <code>alpha-compositing</code>, define o modo de composição usado quando é realizada a composição em um <strong>background</strong> de um elemento. Seu valor padrão é <code>source-over</code>, e existem mais <a href='http://www.w3.org/TR/compositing/#alpha-compositing'>12 possibilidades</a>. Para saber mais, visite a seção sobre <a href='http://www.w3.org/TR/compositing/#advancedcompositing'>Composição avançada</a> do <em>draft</em> da especificação W3C.</p>

<h2 id='blend_modes_em_foregrounds'>Blend modes em foregrounds</h2>

<p>Ao contrário dos <em>backgrounds</em>, com a propriedade <code>foreground-blend-mode</code> será possível definir o <em>blend mode</em> para <strong>o texto e elementos filhos</strong>.</p>

<h3 id='foregroundblendmode'>foreground-blend-mode</h3>

<p>Vamos definir o <code>foreground-blend-mode</code> na <code>div.fundo-azul</code> como <strong>exclusion</strong>:</p>
<figure>
	<img alt='Homer foreground-blend-mode' height='200' src='/images/posts/2013-01-16-homer-foreground.jpg' title='Homer foreground-blend-mode' />
</figure><div class='image-code'>

<div class='highlight'><pre><code class='css'><span class='nc'>.fundo-azul</span> <span class='p'>{</span>
    <span class='n'>foreground</span><span class='o'>-</span><span class='n'>blend</span><span class='o'>-</span><span class='n'>mode</span><span class='o'>:</span> <span class='n'>exclusion</span><span class='p'>;</span> <span class='c'>/* elementos filhos */</span>
    <span class='c'>/* ... */</span>
<span class='p'>}</span>
</code></pre></div>

</div>
<p>Assim todos os elementos aninhados no elemento <code>div.fundo-azul</code> (a imagem e os textos) serão renderizados com o <em>blend mode</em> determinado e o fundo permanecerá inalterado.</p>

<h2 id='blend_modes_em_sombras'>Blend modes em sombras</h2>

<p>Já tá virando brincadeira, né. Mas é verdade, <em>blend modes</em>&#160;<strong>apenas em sombras</strong>! Sabemos que em CSS temos duas propriedades que definem sombras: <code>box-shadow</code> e <code>text-shadow</code>, de maneira análoga teremos também mais duas propriedades para aplicação de <em>blend modes</em> em sombras: <code>box-shadow-blend-mode</code> e <code>text-shadow-blend-mode</code>.</p>

<h3 id='boxshadowblendmode'>box-shadow-blend-mode</h3>

<p>Vamos criar um efeito de <em>fading</em> na <code>div.fundo-azul</code> (como se ela estivesse desaparecendo nas suas extremidades). Para conseguirmos isto apenas precisamos aplicar uma sombra da mesma cor (azul claro) e aplicar o mesmo <em>blend mode</em> (<em>exclusion</em>).</p>
<figure>
	<img alt='Homer box-shadow-blend-mode' height='200' src='/images/posts/2013-01-16-homer-box-shadow.jpg' title='Homer box-shadow-blend-mode' />
</figure><div class='image-code'>

<div class='highlight'><pre><code class='css'><span class='nc'>.fundo-azul</span> <span class='p'>{</span>
    <span class='c'>/* aplicando a sombra */</span>
    <span class='n'>box</span><span class='o'>-</span><span class='n'>shadow</span><span class='o'>:</span> <span class='m'>0px</span> <span class='m'>0px</span> <span class='m'>22px</span> <span class='m'>22px</span> <span class='m'>#4DA6FF</span><span class='p'>;</span> <span class='c'>/* mesma cor que o fundo */</span>
    <span class='n'>box</span><span class='o'>-</span><span class='n'>shadow</span><span class='o'>-</span><span class='n'>blend</span><span class='o'>-</span><span class='n'>mode</span><span class='o'>:</span> <span class='n'>exclusion</span><span class='p'>;</span> <span class='c'>/* mesmo blend mode que o fundo */</span>
<span class='p'>}</span>
</code></pre></div>

</div>
<p>Legal, hein!?</p>

<h3 id='textshadowblendmode'>text-shadow-blend-mode</h3>

<p>Agora é a vez de aplicar um <em>blend mode</em> em sombras de texto com a propriedade <code>text-shadow-blend-mode</code>. Vamos aplicar o <em>blend mode</em>&#160;<strong>overlay</strong> na sombra do elemento <code>&lt;h1&gt;</code>:</p>
<figure>
	<img alt='Homer text-shadow-blend-mode' height='200' src='/images/posts/2013-01-16-homer-text-shadow.jpg' title='Homer text-shadow-blend-mode' />
</figure><div class='image-code'>

<div class='highlight'><pre><code class='css'><span class='nt'>h1</span> <span class='p'>{</span>
    <span class='c'>/* aplicando a sombra no texto */</span>
    <span class='k'>text-shadow</span><span class='o'>:</span> <span class='m'>7px</span> <span class='m'>7px</span> <span class='m'>1px</span> <span class='nb'>black</span><span class='p'>;</span>
    <span class='k'>text-shadow</span><span class='o'>-</span><span class='n'>blend</span><span class='o'>-</span><span class='n'>mode</span><span class='o'>:</span> <span class='n'>overlay</span><span class='p'>;</span>
<span class='p'>}</span>
</code></pre></div>

</div>
<p>Perceba como a sombra de <code>&lt;h1&gt;</code> (&#8220;Homer&#8221;) ficou bem direfente da sombra de <code>&lt;h2&gt;</code> (&#8220;Simpson&#8221;), pois ela realiza um <em>blending</em> com o fundo azul.</p>

<h2 id='multiplicidade_de_valores'>Multiplicidade de valores</h2>

<p>Se qualquer uma das propriedades <code>background</code>, <code>box-shadow</code> ou <code>text-shadow</code> forem definidar com múltiplos valores, também será possível definir seus respectivos <em>blend modes</em> com múltiplos valores separando-os por <code>,</code>. Abaixo um exemplo com <code>text-shadow-blend-mode</code>:</p>
<figure>
	<img alt='Looooop' height='200' src='/images/posts/2013-01-16-loop.jpg' title='Looooop' />
</figure><div class='image-code'>

<div class='highlight'><pre><code class='css'><span class='nf'>#psicodelia</span> <span class='p'>{</span>
    <span class='k'>color</span><span class='o'>:</span> <span class='nb'>white</span><span class='p'>;</span>
    <span class='k'>font-size</span><span class='o'>:</span> <span class='m'>120px</span><span class='p'>;</span>
    <span class='c'>/* aplicando multiplas sombras no texto */</span>
    <span class='k'>text-shadow</span><span class='o'>:</span> <span class='m'>-10px</span> <span class='m'>0px</span> <span class='m'>12px</span> <span class='m'>#2692FF</span><span class='o'>,</span>
                  <span class='m'>10px</span> <span class='m'>0px</span> <span class='m'>12px</span> <span class='m'>#2692FF</span><span class='o'>,</span>
                 <span class='m'>-23px</span> <span class='m'>0px</span> <span class='m'>12px</span> <span class='m'>#FF7F00</span><span class='o'>,</span>
                  <span class='m'>23px</span> <span class='m'>0px</span> <span class='m'>12px</span> <span class='m'>#FF7F00</span><span class='p'>;</span>
    <span class='c'>/* aplicando os blend modes para cada sombra */</span>
    <span class='k'>text-shadow</span><span class='o'>-</span><span class='n'>blend</span><span class='o'>-</span><span class='n'>mode</span><span class='o'>:</span> <span class='n'>difference</span><span class='o'>,</span>
                            <span class='n'>exclusion</span><span class='o'>,</span>
                            <span class='n'>difference</span><span class='o'>,</span>
                            <span class='n'>exclusion</span><span class='p'>;</span>
<span class='p'>}</span>
</code></pre></div>

</div>
<p>O mesmo serve para <code>background-blend-mode</code> e <code>box-shadow-blend-mode</code>.</p>

<h2 id='suporte'>Suporte</h2>

<p>Nenhum navegador ainda se atreveu em implementar nada sobre <em>blend modes</em>, afinal de contas a especificação ainda tem que amadurecer um pouco. E também não há previsões disso.</p>

<h3 id='como_testar'>Como testar?</h3>

<p>A Adobe fez um <em>fork</em> do <strong>Chromium</strong>, implementou algumas funcionalidades e disponibilizou para demonstrar o uso dos <em>blend modes</em>. Se você estiver afim de testar, faça o <em>download</em> do Chromium deles aqui e teste acessando <a href='http://adobe.github.com/web-platform/demos/compositing/blend-photogallery/index.html'>essa página de testes</a>. Eu fiz o teste e é show de bola.</p>

<p>Por hoje é isso aê!</p>
<aside class='fonte'>
    <h3>Referência</h3>
    <ul>
        <li>→<a alt='CSS Blend Modes' href='http://loopinfinito.com.br/2012/12/19/css-blend-modes/' title='CSS Blend Modes'>CSS Blend Modes parte 1</a> <span class='comment'>// Loop Infinito</span></li>
        <li>→<a alt='Compositing and Blending 1.0' href='http://www.w3.org/TR/compositing/' title='Compositing and Blending 1.0'>Compositing and Blending 1.0</a> <span class='comment'>// W3C</span></li>
    </ul>
</aside>
					</section>
				</article>
			</section>

		</section><!-- end #content -->

	</div><!-- end #wrapper -->

</body>
</html>
