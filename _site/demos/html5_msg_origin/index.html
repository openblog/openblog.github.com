<!doctype html>
<html lang="pt-BR">

<head>
	<meta charset="UTF-8" />
	
		<title>HTML5 Web Messaging Demo | Open Blog</title>
	
	
		<meta name="author" content="Vagner Santana" />
	
	
		<meta name="keywords" content="html, html5, css, css3, js, javascript, jquery, open, web, blog, frontend" />
	
	
		<meta name="description" content="Open blog, open web, open world!" />
	
	<meta name="language" content="pt" />
	<meta name="content-language" content="pt-BR" />
	<meta name="robots" content="all" />
	<meta name="distribution" content="Global" />
	<meta name="resource-type" content="document" />

	<link rel="icon" type="image/png" href="/assets/img/favicon.png" />
    <link href="/assets/css/style.css?2013-02-27" media="screen, projection" rel="stylesheet" type="text/css" />

    <!--[if IE]>
    	<link href="/assets/css/ie.css?2013-02-27" media="screen, projection" rel="stylesheet" type="text/css" />
  	<![endif]-->
	<link href='http://fonts.googleapis.com/css?family=Ubuntu:300' rel='stylesheet' type='text/css'>

	<script>
		// google analytics
	  var _gaq = _gaq || [];
	  _gaq.push(['_setAccount', 'UA-38744993-1']);
	  _gaq.push(['_trackPageview']);

	  (function() {
	    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	  })();
	</script>
</head>

<body>

	<div id="wrapper">
		
		<header id="main">
	<h1><a href="/" id="logo">.openBlog()</a></h1>

	<nav class="al-rg">
		<ul class="icons">
			<li>
				<a href="http://fb.com/openblogbrasil" title="Facebook" alt="Facebook" target="_blank">
					<div class="ico"><i class="icon-facebook"></i></div>
				</a>
			</li>
			<li>
				<a href="http://github.com/openblog" title="Github" alt="Github" target="_blank">
					<div class="ico"><i class="icon-github"></i></div>
				</a>
			</li>
			<li class="rss">
				<a href="http://feeds.feedburner.com/openblogbrasil" title="Assine o feed" alt="Assine o feed" target="_blank">
					<div class="ico"><i class="icon-rss"></i></div>
				</a>
			</li>
			<!-- <li><i class="icon-twitter"></i></li>
			<li><i class="icon-facebook"></i></li> -->
		</ul>
	</nav>
</header>
		<section id="content">
			<section class="post-container" itemscope itemtype="http://schema.org/BlogPosting">
				<span class="hidden" itemprop="publisher">Open Blog</span>
				<aside class="post-meta">
					<ul class="icons-lt">
						<li class="post-data">
							<span class="icon-aside"><i class="icon-calendar"></i></span>
							<time itemprop="datePublished" datetime=""></time>
						</li>
						<li class="post-autor">
							<span class="icon-aside"><i class="icon-author"></i></span>
							<a href="" data-link="" title="" alt="" rel="author" itemprop="author" onclick="_gaq.push(['_trackEvent', 'post_author', 'Post View', ''])"></a>
						</li>
						
						
						<li class="post-tags">
							<span class="icon-aside"><i class="icon-tag"></i></span>
							<ul>
								
							</ul>
							
						</li>
						
					</ul>
				</aside>
				<article>
					<header>
						<h1><a href="/demos/html5_msg_origin/" itemprop="headline">HTML5 Web Messaging Demo</a></h1>
					</header>
					<section itemprop="articleBody">
						
						<style>
	input{
		width: 300px;
		height: 20px;
	}
	iframe{
		margin-top: 20px;
		border: solid 1px #cecece;
		background: #fff;
	}
</style>

<script>
	window.onload = function(){
		var objIframe = document.getElementsByTagName('iframe')[0];
		var btnEnviar =  document.getElementsByTagName('button')[0];

		btnEnviar.onclick = function(){
			var textoMsg = document.getElementsByTagName('input')[0].value;

			if(textoMsg == ''){
				alert('Digite uma mensagem!');
			} else{
				objIframe.contentWindow.postMessage(textoMsg, 'http://labs.vagnersantana.com');
			}
		}
	}
</script>

<div id="wrapper">

<section id="content">
	<div class="demo-cont">
		<p>
			<label>Mensagem: <input type="text"></label>
			<button class="btn" type="button">Enviar mensagem</button>
		</p>
		<iframe src="http://labs.vagnersantana.com/html5_msg_iframe.html"></iframe>
	</div>

	<a href="/2013/02/25/html5-web-messaging-api/">‚Üê Voltar ao post</a>
</section>
					</section>
					
				</article>
			</section>

		</section><!-- end #content -->

	</div><!-- end #wrapper -->
	

</body>
</html>
